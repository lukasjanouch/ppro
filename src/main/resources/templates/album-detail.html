<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Galerie modelů F1 | Album</title>
    <link href="/images/favicon.png" rel="icon" type="image/png">
    <link href = "/css/general.css" rel = "stylesheet">
    <link href = "/css/album-detail.css" rel = "stylesheet">
</head>
<body>
<form class="form-signin" method="post" action="/logout"><!--když máme nepovoleno crsf() tak method="get", jinak "post"-->
  <input
          type="hidden"
          th:name="${_csrf.parameterName}"
          th:value="${_csrf.token}"/>
  <button class="log-out-button" type="submit">Odhlásit se</button>
</form>
<nav>
  <ul>
    <li><a class="a-img" th:href="@{/}"><img class="img-logo" src="/images/f1logo.png" alt="Logo"></a></li>
    <li><a th:href="@{/}" class="active">Domů</a></li>
    <li><a class="a-menu" th:href="@{/moje-galerie}" >Moje galerie</a></li>
    <li><a class="a-menu" th:href="@{/nove-album}" >Nové album</a></li>
    <li><a class="a-menu" th:href="@{/muj-profil}">Můj profil</a></li>
  </ul>
  <select>
    <option value="" selected="selected">Select</option>

    <option value="/">Domů</option>
    <option value="/moje-galerie">Moje galerie</option>
    <option value="/nove-album">Nové album</option>
    <option value="/muj-profil">Můj profil</option>
  </select>
</nav>
  <section>
  <div class="div-images" th:if="${album.getImages().size()} > 0">
  <img class="img-main" th:src="@{${'/image/display/'+ album.getImages().get(0).getId()}}" width="800">
  <div class="img-container">
    <div  th:if="${album.getImages().size()} > 0" th:each="image : ${album.images}">
    <img class="img-others" th:src="@{${'/image/display/'+ image.id}}" height="70" width="100" alt="F1 model"/>
  </div>
  </div>
  </div>
  <div class="div-info" >
    <h3 th:text="${album.name}">Název alba:</h3>
    <p class="p-info" th:text="${'Autor: ' + album.author}">Autor:</p>
    <p class="p-info" th:text="${'Vydavatel: ' + album.publisher}">Vydavatel:</p>
    <p class="p-info" th:text="${'Měřítko: ' + album.scale}">Měřítko:</p>
    <div class="likes">
    <img src="/images/like.png" width="18" height="18" class="img-like"><p class="p-like" th:text="${album.getLikes()}">likes</p>
    </div>
    <div class="button-container" sec:authorize="isAuthenticated()">
      <div th:if="${album.getUser().getId() == loggedUsId}">
      <a class="a-add-button" th:href="@{${'/pridat-obrazky/' + album.id}}">
        <button >Přidat obrázky</button>
      </a>
      </div>
    </div>
  </div>
  </section>
</body>
</html>